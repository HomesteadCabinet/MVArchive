<Window x:Class="MVArchive.ArchiveConfigWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Archive Configuration" Height="840" Width="1000"
    WindowStartupLocation="CenterOwner"
    ResizeMode="NoResize">

  <Grid Margin="20">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Header -->
    <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Text="Archive Configuration"
           FontSize="20" FontWeight="Bold" Margin="0,0,0,20"
           HorizontalAlignment="Center"/>

    <!-- Source Database Settings -->
    <GroupBox Grid.Row="1" Grid.Column="0" Header="Source Database" Margin="0,0,10,15">
      <Grid Margin="10">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="120"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Grid.Column="0" Text="Host:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtSourceHost" Grid.Row="0" Grid.Column="1" Margin="5" Text="192.168.1.35"/>

        <TextBlock Grid.Row="1" Grid.Column="0" Text="Port:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtSourcePort" Grid.Row="1" Grid.Column="1" Margin="5" Text="1435"/>

        <TextBlock Grid.Row="2" Grid.Column="0" Text="Database:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtSourceDatabase" Grid.Row="2" Grid.Column="1" Margin="5" Text="testdb"/>

        <TextBlock Grid.Row="3" Grid.Column="0" Text="User:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtSourceUser" Grid.Row="3" Grid.Column="1" Margin="5" Text="sa"/>

        <TextBlock Grid.Row="4" Grid.Column="0" Text="Password:" VerticalAlignment="Center"/>
        <PasswordBox x:Name="txtSourcePassword" Grid.Row="4" Grid.Column="1" Margin="5" Password="H0m35te@d12!"/>
      </Grid>
    </GroupBox>

    <!-- Destination Database Settings -->
    <GroupBox Grid.Row="1" Grid.Column="1" Header="Destination Database (Archive)" Margin="10,0,0,15">
      <Grid Margin="10">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="120"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Grid.Column="0" Text="Host:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtDestHost" Grid.Row="0" Grid.Column="1" Margin="5" Text="192.168.1.35"/>

        <TextBlock Grid.Row="1" Grid.Column="0" Text="Port:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtDestPort" Grid.Row="1" Grid.Column="1" Margin="5" Text="1435"/>

        <TextBlock Grid.Row="2" Grid.Column="0" Text="Database:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtDestDatabase" Grid.Row="2" Grid.Column="1" Margin="5" Text="TestArchive"/>

        <TextBlock Grid.Row="3" Grid.Column="0" Text="User:" VerticalAlignment="Center"/>
        <TextBox x:Name="txtDestUser" Grid.Row="3" Grid.Column="1" Margin="5" Text="sa"/>

        <TextBlock Grid.Row="4" Grid.Column="0" Text="Password:" VerticalAlignment="Center"/>
        <PasswordBox x:Name="txtDestPassword" Grid.Row="4" Grid.Column="1" Margin="5" Password="H0m35te@d12!"/>
      </Grid>
    </GroupBox>

    <!-- Archive Options -->
    <GroupBox Grid.Row="2" Grid.Column="0" Header="Archive Options" Margin="0,0,10,15">
      <StackPanel Margin="10">
        <CheckBox x:Name="chkDryRun" Content="Dry Run (Copy data but don't delete from source)"
              IsChecked="True" Margin="0,5"/>
        <TextBlock Text="Dry Run Mode: Data will be copied to archive but source data remains intact"
               FontStyle="Italic" Foreground="Gray" Margin="20,0,0,0"/>
      </StackPanel>
    </GroupBox>

    <!-- Connection Test -->
    <GroupBox Grid.Row="2" Grid.Column="1" Header="Connection Test" Margin="10,0,0,15">
      <StackPanel Margin="10">
        <Button x:Name="btnTestConnections" Content="Test Connections"
            Width="150" Height="30" HorizontalAlignment="Left" Click="BtnTestConnections_Click"/>
        <TextBlock x:Name="txtConnectionStatus" Text="Click 'Test Connections' to verify database connectivity"
               Margin="0,10,0,0" FontStyle="Italic"/>
      </StackPanel>
    </GroupBox>

    <!-- Detailed Logging Options -->
    <GroupBox Grid.Row="3" Grid.Column="1" Header="Detailed Logging" Margin="10,0,0,15">
      <Grid Margin="10">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <CheckBox x:Name="chkEnableLogging" Content="Enable Logging"
              IsChecked="True" VerticalAlignment="Center" Margin="0,0,10,0"/>

        <TextBlock Grid.Column="1" Text="Max Entries:" VerticalAlignment="Center" Margin="0,0,5,0"/>
        <ComboBox Grid.Column="2" x:Name="cmbMaxEntries" Width="80" Margin="0,0,10,0">
          <ComboBoxItem Content="100" IsSelected="True"/>
          <ComboBoxItem Content="500"/>
          <ComboBoxItem Content="1000"/>
          <ComboBoxItem Content="5000"/>
        </ComboBox>
      </Grid>
    </GroupBox>

    <!-- Related Tables Info -->
    <GroupBox Grid.Row="4" Grid.ColumnSpan="2" Header="Tables to be Archived" Margin="0,0,0,15">
      <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="150">
        <TextBlock x:Name="txtRelatedTables" Text="Loading table information..."
               TextWrapping="Wrap" Margin="10"/>
      </ScrollViewer>
    </GroupBox>

    <!-- Buttons -->
    <StackPanel Grid.Row="5" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right">
      <Button x:Name="btnCancel" Content="Cancel" Width="80" Height="30"
          Margin="0,0,10,0" Click="BtnCancel_Click"/>
      <Button x:Name="btnSave" Content="Save Configuration" Width="120" Height="30"
          Click="BtnSave_Click"/>
    </StackPanel>
  </Grid>
</Window>
